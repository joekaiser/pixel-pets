var app=angular.module("pixelPets",["ui.router"]);app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("USER_ROLES",{all:"*",admin:"admin"}),app.config(["$stateProvider","$urlRouterProvider","USER_ROLES",function(t,e,o){e.otherwise("/"),t.state("main",{url:"/",templateUrl:"/views/login/login.html",controller:"loginController"}).state("app",{url:"/app",abstract:!0,templateUrl:"/views/app/app.html",data:{authorizedRole:o.all}}).state("app.house",{url:"",template:"house",data:{authorizedRole:o.all}}).state("app.garden",{url:"/garden",template:"garden",data:{authorizedRole:o.all}}).state("app.store",{url:"/store",template:"store",data:{authorizedRole:o.all}}).state("app.playground",{url:"/playground",template:"playground",data:{authorizedRole:o.all}}).state("app.school",{url:"/school",template:"school",data:{authorizedRole:o.all}})}]),app.run(["$log","$rootScope","$transitions","AUTH_EVENTS","AuthService",function(t,e,o,n,r){o.onBefore({to:function(t){return t.data&&t.data.authorizedRole}},function(e){var o=e.$to().data.authorizedRole;if(!r.isAuthorized(o))return r.isAuthenticated()?(t.error("not authorized to view: "+e.$to().name),!1):(t.warn("not logged in"),e.router.stateService.target("main"))})}]),app.controller("ApplicationController",["$log","$rootScope","$scope","$state","USER_ROLES","AUTH_EVENTS","AuthService",function(t,e,o,n,r,a,i){o.currentUser=null,o.userRoles=r,o.isAuthorized=i.isAuthorized,o.setCurrentUser=function(e){o.currentUser=e,t.info("setting logged in user to:"),t.info(e)},o.logout=function(){i.logout(),o.currentUser=null,n.transitionTo("main")},e.$on(a.notAuthenticated,function(){t.warn("not authenticated"),o.logout()}),e.$on(a.notAuthorized,function(){t.warn("not authorized for previous service call")})}]);var app=angular.module("pixelPets",["ui.router"]);app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("USER_ROLES",{all:"*",admin:"admin"}),app.config(["$stateProvider","$urlRouterProvider","USER_ROLES",function(t,e,o){e.otherwise("/"),t.state("main",{url:"/",templateUrl:"/views/login/login.html",controller:"loginController"}).state("app",{url:"/app",abstract:!0,templateUrl:"/views/app/app.html",data:{authorizedRole:o.all}}).state("app.house",{url:"",template:"house",data:{authorizedRole:o.all}}).state("app.garden",{url:"/garden",template:"garden",data:{authorizedRole:o.all}}).state("app.store",{url:"/store",template:"store",data:{authorizedRole:o.all}}).state("app.playground",{url:"/playground",template:"playground",data:{authorizedRole:o.all}}).state("app.school",{url:"/school",template:"school",data:{authorizedRole:o.all}})}]),app.run(["$log","$rootScope","$transitions","AUTH_EVENTS","AuthService",function(t,e,o,n,r){o.onBefore({to:function(t){return t.data&&t.data.authorizedRole}},function(e){var o=e.$to().data.authorizedRole;if(!r.isAuthorized(o))return r.isAuthenticated()?(t.error("not authorized to view: "+e.$to().name),!1):(t.warn("not logged in"),e.router.stateService.target("main"))})}]),app.controller("ApplicationController",["$log","$rootScope","$scope","$state","USER_ROLES","AUTH_EVENTS","AuthService",function(t,e,o,n,r,a,i){o.currentUser=null,o.userRoles=r,o.isAuthorized=i.isAuthorized,o.setCurrentUser=function(e){o.currentUser=e,t.info("setting logged in user to:"),t.info(e)},o.logout=function(){i.logout(),o.currentUser=null,n.transitionTo("main")},e.$on(a.notAuthenticated,function(){t.warn("not authenticated"),o.logout()}),e.$on(a.notAuthorized,function(){t.warn("not authorized for previous service call")})}]);var app=angular.module("pixelPets",["ui.router"]);app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("USER_ROLES",{all:"*",admin:"admin"}),app.config(["$stateProvider","$urlRouterProvider","USER_ROLES",function(t,e,o){e.otherwise("/"),t.state("main",{url:"/",templateUrl:"/views/login/login.html",controller:"loginController"}).state("app",{url:"/app",abstract:!0,templateUrl:"/views/app/app.html",data:{authorizedRole:o.all}}).state("app.house",{url:"",template:"house",data:{authorizedRole:o.all}}).state("app.garden",{url:"/garden",template:"garden",data:{authorizedRole:o.all}}).state("app.store",{url:"/store",template:"store",data:{authorizedRole:o.all}}).state("app.playground",{url:"/playground",template:"playground",data:{authorizedRole:o.all}}).state("app.school",{url:"/school",template:"school",data:{authorizedRole:o.all}})}]),app.run(["$log","$rootScope","$transitions","AUTH_EVENTS","AuthService",function(t,e,o,n,r){o.onBefore({to:function(t){return t.data&&t.data.authorizedRole}},function(e){var o=e.$to().data.authorizedRole;if(!r.isAuthorized(o))return r.isAuthenticated()?(t.error("not authorized to view: "+e.$to().name),!1):(t.warn("not logged in"),e.router.stateService.target("main"))})}]),app.controller("ApplicationController",["$log","$rootScope","$scope","$state","USER_ROLES","AUTH_EVENTS","AuthService",function(t,e,o,n,r,a,i){o.currentUser=null,o.userRoles=r,o.isAuthorized=i.isAuthorized,o.setCurrentUser=function(e){o.currentUser=e,t.info("setting logged in user to:"),t.info(e)},o.logout=function(){i.logout(),o.currentUser=null,n.transitionTo("main")},e.$on(a.notAuthenticated,function(){t.warn("not authenticated"),o.logout()}),e.$on(a.notAuthorized,function(){t.warn("not authorized for previous service call")})}]);var app=angular.module("pixelPets");app.config(function(t){t.interceptors.push(["$injector",function(t){return t.get("AuthInterceptor")}])}),app.factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(t,e,o){return{responseError:function(n){return t.$broadcast({401:o.notAuthenticated,403:o.notAuthorized}[n.status],n),e.reject(n)}}}]),angular.module("pixelPets").factory("AuthService",["$http","Session",function(t,e){var o={};return o.login=function(t){var o={name:"player1",id:1,role:["*","admin"]},n="12345678";return e.create(n,o.id,o.role),o},o.isAuthenticated=function(){return!!e.userId},o.isAuthorized=function(t){return o.isAuthenticated()&&e.userRole.indexOf(t)!==-1},o.logout=function(){e.destroy()},o}]),angular.module("pixelPets").service("Session",function(){this.create=function(t,e,o){this.id=t,this.userId=e,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.userRole=null}});var app=angular.module("pixelPets",["ui.router"]);app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("USER_ROLES",{all:"*",admin:"admin"}),app.config(["$stateProvider","$urlRouterProvider","USER_ROLES",function(t,e,o){e.otherwise("/"),t.state("main",{url:"/",templateUrl:"/views/login/login.html",controller:"loginController"}).state("app",{url:"/app",abstract:!0,templateUrl:"/views/app/app.html",data:{authorizedRole:o.all}}).state("app.house",{url:"",template:"house",data:{authorizedRole:o.all}}).state("app.garden",{url:"/garden",template:"garden",data:{authorizedRole:o.all}}).state("app.store",{url:"/store",template:"store",data:{authorizedRole:o.all}}).state("app.playground",{url:"/playground",template:"playground",data:{authorizedRole:o.all}}).state("app.school",{url:"/school",template:"school",data:{authorizedRole:o.all}})}]),app.run(["$log","$rootScope","$transitions","AUTH_EVENTS","AuthService",function(t,e,o,n,r){o.onBefore({to:function(t){return t.data&&t.data.authorizedRole}},function(e){var o=e.$to().data.authorizedRole;if(!r.isAuthorized(o))return r.isAuthenticated()?(t.error("not authorized to view: "+e.$to().name),!1):(t.warn("not logged in"),e.router.stateService.target("main"))})}]),app.controller("ApplicationController",["$log","$rootScope","$scope","$state","USER_ROLES","AUTH_EVENTS","AuthService",function(t,e,o,n,r,a,i){o.currentUser=null,o.userRoles=r,o.isAuthorized=i.isAuthorized,o.setCurrentUser=function(e){o.currentUser=e,t.info("setting logged in user to:"),t.info(e)},o.logout=function(){i.logout(),o.currentUser=null,n.transitionTo("main")},e.$on(a.notAuthenticated,function(){t.warn("not authenticated"),o.logout()}),e.$on(a.notAuthorized,function(){t.warn("not authorized for previous service call")})}]);var app=angular.module("pixelPets");app.config(function(t){t.interceptors.push(["$injector",function(t){return t.get("AuthInterceptor")}])}),app.factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(t,e,o){return{responseError:function(n){return t.$broadcast({401:o.notAuthenticated,403:o.notAuthorized}[n.status],n),e.reject(n)}}}]),angular.module("pixelPets").factory("AuthService",["$http","Session",function(t,e){var o={};return o.login=function(t){var o={name:"player1",id:1,role:["*","admin"]},n="12345678";return e.create(n,o.id,o.role),o},o.isAuthenticated=function(){return!!e.userId},o.isAuthorized=function(t){return o.isAuthenticated()&&e.userRole.indexOf(t)!==-1},o.logout=function(){e.destroy()},o}]),angular.module("pixelPets").service("Session",function(){this.create=function(t,e,o){this.id=t,this.userId=e,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.userRole=null}});var app=angular.module("pixelPets",["ui.router"]);app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("USER_ROLES",{all:"*",admin:"admin"}),app.config(["$stateProvider","$urlRouterProvider","USER_ROLES",function(t,e,o){e.otherwise("/"),t.state("main",{url:"/",templateUrl:"/views/login/login.html",controller:"loginController"}).state("app",{url:"/app",abstract:!0,templateUrl:"/views/app/app.html",data:{authorizedRole:o.all}}).state("app.house",{url:"",template:"house",data:{authorizedRole:o.all}}).state("app.garden",{url:"/garden",template:"garden",data:{authorizedRole:o.all}}).state("app.store",{url:"/store",template:"store",data:{authorizedRole:o.all}}).state("app.playground",{url:"/playground",template:"playground",data:{authorizedRole:o.all}}).state("app.school",{url:"/school",template:"school",data:{authorizedRole:o.all}})}]),app.run(["$log","$rootScope","$transitions","AUTH_EVENTS","AuthService",function(t,e,o,n,r){o.onBefore({to:function(t){return t.data&&t.data.authorizedRole}},function(e){var o=e.$to().data.authorizedRole;if(!r.isAuthorized(o))return r.isAuthenticated()?(t.error("not authorized to view: "+e.$to().name),!1):(t.warn("not logged in"),e.router.stateService.target("main"))})}]),app.controller("ApplicationController",["$log","$rootScope","$scope","$state","USER_ROLES","AUTH_EVENTS","AuthService",function(t,e,o,n,r,a,i){o.currentUser=null,o.userRoles=r,o.isAuthorized=i.isAuthorized,o.setCurrentUser=function(e){o.currentUser=e,t.info("setting logged in user to:"),t.info(e)},o.logout=function(){i.logout(),o.currentUser=null,n.transitionTo("main")},e.$on(a.notAuthenticated,function(){t.warn("not authenticated"),o.logout()}),e.$on(a.notAuthorized,function(){t.warn("not authorized for previous service call")})}]);var app=angular.module("pixelPets",["ui.router"]);app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("USER_ROLES",{all:"*",admin:"admin"}),app.config(["$stateProvider","$urlRouterProvider","USER_ROLES",function(t,e,o){e.otherwise("/"),t.state("main",{url:"/",templateUrl:"/views/login/login.html",controller:"loginController"}).state("app",{url:"/app",abstract:!0,templateUrl:"/views/app/app.html",data:{authorizedRole:o.all}}).state("app.house",{url:"",template:"house",data:{authorizedRole:o.all}}).state("app.garden",{url:"/garden",template:"garden",data:{authorizedRole:o.all}}).state("app.store",{url:"/store",template:"store",data:{authorizedRole:o.all}}).state("app.playground",{url:"/playground",template:"playground",data:{authorizedRole:o.all}}).state("app.school",{url:"/school",template:"school",data:{authorizedRole:o.all}})}]),app.run(["$log","$rootScope","$transitions","AUTH_EVENTS","AuthService",function(t,e,o,n,r){o.onBefore({to:function(t){return t.data&&t.data.authorizedRole}},function(e){var o=e.$to().data.authorizedRole;if(!r.isAuthorized(o))return r.isAuthenticated()?(t.error("not authorized to view: "+e.$to().name),!1):(t.warn("not logged in"),e.router.stateService.target("main"))})}]),app.controller("ApplicationController",["$log","$rootScope","$scope","$state","USER_ROLES","AUTH_EVENTS","AuthService",function(t,e,o,n,r,a,i){o.currentUser=null,o.userRoles=r,o.isAuthorized=i.isAuthorized,o.setCurrentUser=function(e){o.currentUser=e,t.info("setting logged in user to:"),t.info(e)},o.logout=function(){i.logout(),o.currentUser=null,n.transitionTo("main")},e.$on(a.notAuthenticated,function(){t.warn("not authenticated"),o.logout()}),e.$on(a.notAuthorized,function(){t.warn("not authorized for previous service call")})}]);var app=angular.module("pixelPets");app.config(function(t){t.interceptors.push(["$injector",function(t){return t.get("AuthInterceptor")}])}),app.factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(t,e,o){return{responseError:function(n){return t.$broadcast({401:o.notAuthenticated,403:o.notAuthorized}[n.status],n),e.reject(n)}}}]),angular.module("pixelPets").factory("AuthService",["$http","Session",function(t,e){var o={};return o.login=function(t){var o={name:"player1",id:1,role:["*","admin"]},n="12345678";return e.create(n,o.id,o.role),o},o.isAuthenticated=function(){return!!e.userId},o.isAuthorized=function(t){return o.isAuthenticated()&&e.userRole.indexOf(t)!==-1},o.logout=function(){e.destroy()},o}]),angular.module("pixelPets").service("Session",function(){this.create=function(t,e,o){this.id=t,this.userId=e,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.userRole=null}});var app=angular.module("pixelPets",["ui.router"]);app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("USER_ROLES",{all:"*",admin:"admin"}),app.config(["$stateProvider","$urlRouterProvider","USER_ROLES",function(t,e,o){e.otherwise("/"),t.state("main",{url:"/",templateUrl:"/views/login/login.html",controller:"loginController"}).state("app",{url:"/app",abstract:!0,templateUrl:"/views/app/app.html",data:{authorizedRole:o.all}}).state("app.house",{url:"",template:"house",data:{authorizedRole:o.all}}).state("app.garden",{url:"/garden",template:"garden",data:{authorizedRole:o.all}}).state("app.store",{url:"/store",template:"store",data:{authorizedRole:o.all}}).state("app.playground",{url:"/playground",template:"playground",data:{authorizedRole:o.all}}).state("app.school",{url:"/school",template:"school",data:{authorizedRole:o.all}})}]),app.run(["$log","$rootScope","$transitions","AUTH_EVENTS","AuthService",function(t,e,o,n,r){o.onBefore({to:function(t){return t.data&&t.data.authorizedRole}},function(e){var o=e.$to().data.authorizedRole;if(!r.isAuthorized(o))return r.isAuthenticated()?(t.error("not authorized to view: "+e.$to().name),!1):(t.warn("not logged in"),e.router.stateService.target("main"))})}]),app.controller("ApplicationController",["$log","$rootScope","$scope","$state","USER_ROLES","AUTH_EVENTS","AuthService",function(t,e,o,n,r,a,i){o.currentUser=null,o.userRoles=r,o.isAuthorized=i.isAuthorized,o.setCurrentUser=function(e){o.currentUser=e,t.info("setting logged in user to:"),t.info(e)},o.logout=function(){i.logout(),o.currentUser=null,n.transitionTo("main")},e.$on(a.notAuthenticated,function(){t.warn("not authenticated"),o.logout()}),e.$on(a.notAuthorized,function(){t.warn("not authorized for previous service call")})}]);var app=angular.module("pixelPets",["ui.router"]);app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("USER_ROLES",{all:"*",admin:"admin"}),app.config(["$stateProvider","$urlRouterProvider","USER_ROLES",function(t,e,o){e.otherwise("/"),t.state("main",{url:"/",templateUrl:"/views/login/login.html",controller:"loginController"}).state("app",{url:"/app",abstract:!0,templateUrl:"/views/app/app.html",data:{authorizedRole:o.all}}).state("app.house",{url:"",template:"house",data:{authorizedRole:o.all}}).state("app.garden",{url:"/garden",template:"garden",data:{authorizedRole:o.all}}).state("app.store",{url:"/store",template:"store",data:{authorizedRole:o.all}}).state("app.playground",{url:"/playground",template:"playground",data:{authorizedRole:o.all}}).state("app.school",{url:"/school",template:"school",data:{authorizedRole:o.all}})}]),app.run(["$log","$rootScope","$transitions","AUTH_EVENTS","AuthService",function(t,e,o,n,r){o.onBefore({to:function(t){return t.data&&t.data.authorizedRole}},function(e){var o=e.$to().data.authorizedRole;if(!r.isAuthorized(o))return r.isAuthenticated()?(t.error("not authorized to view: "+e.$to().name),!1):(t.warn("not logged in"),e.router.stateService.target("main"))})}]),app.controller("ApplicationController",["$log","$rootScope","$scope","$state","USER_ROLES","AUTH_EVENTS","AuthService",function(t,e,o,n,r,a,i){o.currentUser=null,o.userRoles=r,o.isAuthorized=i.isAuthorized,o.setCurrentUser=function(e){o.currentUser=e,t.info("setting logged in user to:"),t.info(e)},o.logout=function(){i.logout(),o.currentUser=null,n.transitionTo("main")},e.$on(a.notAuthenticated,function(){t.warn("not authenticated"),o.logout()}),e.$on(a.notAuthorized,function(){t.warn("not authorized for previous service call")})}]);var app=angular.module("pixelPets");app.config(function(t){t.interceptors.push(["$injector",function(t){return t.get("AuthInterceptor")}])}),app.factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(t,e,o){return{responseError:function(n){return t.$broadcast({401:o.notAuthenticated,403:o.notAuthorized}[n.status],n),e.reject(n)}}}]),angular.module("pixelPets").factory("AuthService",["$http","Session",function(t,e){var o={};return o.login=function(t){var o={name:"player1",id:1,role:["*","admin"]},n="12345678";return e.create(n,o.id,o.role),o},o.isAuthenticated=function(){return!!e.userId},o.isAuthorized=function(t){return o.isAuthenticated()&&e.userRole.indexOf(t)!==-1},o.logout=function(){e.destroy()},o}]),angular.module("pixelPets").service("Session",function(){this.create=function(t,e,o){this.id=t,this.userId=e,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.userRole=null}}),angular.module("pixelPets").component("ppNav",{templateUrl:"views/nav/nav.html",controller:"navController"}),angular.module("pixelPets").controller("navController",[function(){}]),angular.module("pixelPets").controller("loginController",["$rootScope","$scope","$state","AUTH_EVENTS","AuthService",function(t,e,o,n,r){e.signin=function(){var a=r.login();e.setCurrentUser(a),t.$broadcast(n.loginSuccess),o.transitionTo("app.house")}}]);var app=angular.module("pixelPets");app.config(function(t){t.interceptors.push(["$injector",function(t){return t.get("AuthInterceptor")}])}),app.factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(t,e,o){return{responseError:function(n){return t.$broadcast({401:o.notAuthenticated,403:o.notAuthorized}[n.status],n),e.reject(n)}}}]),angular.module("pixelPets").factory("AuthService",["$http","Session",function(t,e){var o={};return o.login=function(t){var o={name:"player1",id:1,role:["*","admin"]},n="12345678";return e.create(n,o.id,o.role),o},o.isAuthenticated=function(){return!!e.userId},o.isAuthorized=function(t){return o.isAuthenticated()&&e.userRole.indexOf(t)!==-1},o.logout=function(){e.destroy()},o}]),angular.module("pixelPets").service("Session",function(){this.create=function(t,e,o){this.id=t,this.userId=e,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.userRole=null}}),angular.module("pixelPets").controller("loginController",["$rootScope","$scope","$state","AUTH_EVENTS","AuthService",function(t,e,o,n,r){e.signin=function(){var a=r.login();e.setCurrentUser(a),t.$broadcast(n.loginSuccess),o.transitionTo("app.house")}}]),angular.module("pixelPets").component("ppNav",{templateUrl:"views/nav/nav.html",controller:"navController"}),angular.module("pixelPets").controller("navController",[function(){}]),angular.module("pixelPets").controller("loginController",["$rootScope","$scope","$state","AUTH_EVENTS","AuthService",function(t,e,o,n,r){e.signin=function(){var a=r.login();e.setCurrentUser(a),t.$broadcast(n.loginSuccess),o.transitionTo("app.house")}}]),angular.module("pixelPets").component("ppNav",{templateUrl:"views/nav/nav.html",controller:"navController"}),angular.module("pixelPets").controller("navController",[function(){}]);var app=angular.module("pixelPets");app.config(function(t){t.interceptors.push(["$injector",function(t){return t.get("AuthInterceptor")}])}),app.factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(t,e,o){return{responseError:function(n){return t.$broadcast({401:o.notAuthenticated,403:o.notAuthorized}[n.status],n),e.reject(n)}}}]),angular.module("pixelPets").factory("AuthService",["$http","Session",function(t,e){var o={};return o.login=function(t){var o={name:"player1",id:1,role:["*","admin"]},n="12345678";return e.create(n,o.id,o.role),o},o.isAuthenticated=function(){return!!e.userId},o.isAuthorized=function(t){return o.isAuthenticated()&&e.userRole.indexOf(t)!==-1},o.logout=function(){e.destroy()},o}]),angular.module("pixelPets").service("Session",function(){this.create=function(t,e,o){this.id=t,this.userId=e,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.userRole=null}}),angular.module("pixelPets").component("ppNav",{templateUrl:"views/nav/nav.html",controller:"navController"}),angular.module("pixelPets").controller("navController",[function(){}]),angular.module("pixelPets").controller("loginController",["$rootScope","$scope","$state","AUTH_EVENTS","AuthService",function(t,e,o,n,r){e.signin=function(){var a=r.login();e.setCurrentUser(a),t.$broadcast(n.loginSuccess),o.transitionTo("app.house")}}]),angular.module("pixelPets").component("ppNav",{templateUrl:"views/nav/nav.html",controller:"navController"}),angular.module("pixelPets").controller("navController",[function(){}]),angular.module("pixelPets").controller("loginController",["$rootScope","$scope","$state","AUTH_EVENTS","AuthService",function(t,e,o,n,r){e.signin=function(){var a=r.login();e.setCurrentUser(a),t.$broadcast(n.loginSuccess),o.transitionTo("app.house")}}]),angular.module("pixelPets").controller("loginController",["$rootScope","$scope","$state","AUTH_EVENTS","AuthService",function(t,e,o,n,r){e.signin=function(){var a=r.login();e.setCurrentUser(a),t.$broadcast(n.loginSuccess),o.transitionTo("app.house")}}]),angular.module("pixelPets").component("ppNav",{templateUrl:"views/nav/nav.html",controller:"navController"}),angular.module("pixelPets").controller("navController",[function(){}]);var app=angular.module("pixelPets");app.config(function(t){t.interceptors.push(["$injector",function(t){return t.get("AuthInterceptor")}])}),app.factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(t,e,o){return{responseError:function(n){return t.$broadcast({401:o.notAuthenticated,403:o.notAuthorized}[n.status],n),e.reject(n)}}}]),angular.module("pixelPets").factory("AuthService",["$http","Session",function(t,e){var o={};return o.login=function(t){var o={name:"player1",id:1,role:["*","admin"]},n="12345678";return e.create(n,o.id,o.role),o},o.isAuthenticated=function(){return!!e.userId},o.isAuthorized=function(t){return o.isAuthenticated()&&e.userRole.indexOf(t)!==-1},o.logout=function(){e.destroy()},o}]),angular.module("pixelPets").service("Session",function(){this.create=function(t,e,o){this.id=t,this.userId=e,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.userRole=null}}),angular.module("pixelPets").controller("loginController",["$rootScope","$scope","$state","AUTH_EVENTS","AuthService",function(t,e,o,n,r){e.signin=function(){var a=r.login();e.setCurrentUser(a),t.$broadcast(n.loginSuccess),o.transitionTo("app.house")}}]),angular.module("pixelPets").component("ppNav",{templateUrl:"views/nav/nav.html",controller:"navController"}),angular.module("pixelPets").controller("navController",[function(){}]);var app=angular.module("pixelPets");app.config(function(t){t.interceptors.push(["$injector",function(t){return t.get("AuthInterceptor")}])}),app.factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(t,e,o){return{responseError:function(n){return t.$broadcast({401:o.notAuthenticated,403:o.notAuthorized}[n.status],n),e.reject(n)}}}]),angular.module("pixelPets").factory("AuthService",["$http","Session",function(t,e){var o={};return o.login=function(t){var o={name:"player1",id:1,role:["*","admin"]},n="12345678";return e.create(n,o.id,o.role),o},o.isAuthenticated=function(){return!!e.userId},o.isAuthorized=function(t){return o.isAuthenticated()&&e.userRole.indexOf(t)!==-1},o.logout=function(){e.destroy()},o}]),angular.module("pixelPets").service("Session",function(){this.create=function(t,e,o){this.id=t,this.userId=e,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.userRole=null}}),angular.module("pixelPets").component("ppNav",{templateUrl:"views/nav/nav.html",controller:"navController"}),angular.module("pixelPets").controller("navController",[function(){}]),angular.module("pixelPets").controller("loginController",["$rootScope","$scope","$state","AUTH_EVENTS","AuthService",function(t,e,o,n,r){e.signin=function(){var a=r.login();e.setCurrentUser(a),t.$broadcast(n.loginSuccess),o.transitionTo("app.house")}}]);